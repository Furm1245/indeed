{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/pures/projects/indeed/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/pures/projects/indeed/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\pures\\\\projects\\\\indeed\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useContext}from'react';import{useState}from'react';import{useNavigate}from'react-router-dom';import classes from'./NewJob.module.css';import{Form}from'react-bootstrap';import{AuthContext}from'../../shared/context/auth-context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewJob=function NewJob(){var navigate=useNavigate();var auth=useContext(AuthContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),salary=_useState6[0],setSalary=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],setType=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),qualifications=_useState10[0],setQualifications=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),description=_useState12[0],setDescription=_useState12[1];var userId=auth.userId;var JobPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,responseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;event.preventDefault();_context.next=4;return fetch(\"\".concat(process.env.REACT_APP_BACKEND_URLS,\"/job\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:title,location:location,salary:salary,type:type,qualifications:qualifications,description:description,creator:userId})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:responseData=_context.sent;navigate('/');if(response.ok){_context.next=11;break;}throw new Error(responseData.message);case 11:_context.next=15;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function JobPost(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:classes.page,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.auth,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Post Job\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:JobPost,children:[/*#__PURE__*/_jsxs(Form.Group,{className:classes.control,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Company Name\"}),/*#__PURE__*/_jsx(Form.Control,{value:title,type:\"text\",onChange:function onChange(e){return setTitle(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:classes.control,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Location\"}),/*#__PURE__*/_jsx(Form.Control,{value:location,type:\"text\",onChange:function onChange(e){return setLocation(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:classes.control,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Salary\"}),/*#__PURE__*/_jsx(Form.Control,{value:salary,type:\"text\",onChange:function onChange(e){return setSalary(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:classes.control,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Job Type\"}),/*#__PURE__*/_jsx(Form.Control,{value:type,type:\"text\",onChange:function onChange(e){return setType(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:classes.control,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Qualifications\"}),/*#__PURE__*/_jsx(Form.Control,{value:qualifications,as:\"textarea\",onChange:function onChange(e){return setQualifications(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:classes.control,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{value:description,as:\"textarea\",onChange:function onChange(e){return setDescription(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(\"button\",{children:\"Submit\"})})]})]})});};export default NewJob;","map":{"version":3,"sources":["C:/Users/pures/projects/indeed/src/components/New/NewJob.js"],"names":["useContext","useState","useNavigate","classes","Form","AuthContext","NewJob","navigate","auth","title","setTitle","location","setLocation","salary","setSalary","type","setType","qualifications","setQualifications","description","setDescription","userId","JobPost","event","preventDefault","fetch","process","env","REACT_APP_BACKEND_URLS","method","headers","body","JSON","stringify","creator","response","json","responseData","ok","Error","message","page","control","e","target","value","actions"],"mappings":"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","sourcesContent":["import { useContext } from 'react';\r\nimport { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport classes from './NewJob.module.css'\r\nimport { Form } from 'react-bootstrap';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\n\r\nconst NewJob = () => {\r\n    const navigate = useNavigate()\r\n    const auth = useContext(AuthContext)\r\n    const [title, setTitle] = useState(\"\")\r\n    const [location, setLocation] = useState(\"\")\r\n    const [salary, setSalary] = useState(\"\")\r\n    const [type, setType] = useState(\"\")\r\n    const [qualifications, setQualifications] = useState(\"\")\r\n    const [description, setDescription] = useState(\"\")\r\n    const userId = auth.userId;\r\n\r\n\r\n    const JobPost = async (event) => {\r\n        try {\r\n            event.preventDefault()\r\n            const response = await fetch(`${process.env.REACT_APP_BACKEND_URLS}/job`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    title,\r\n                    location,\r\n                    salary,\r\n                    type,\r\n                    qualifications,\r\n                    description,\r\n                    creator: userId\r\n                }),\r\n            });\r\n            const responseData = await response.json()\r\n            navigate('/')\r\n\r\n\r\n            if (!response.ok) {\r\n                throw new Error(responseData.message)\r\n            }\r\n        } catch (err) { }\r\n    }\r\n\r\n    return (\r\n        <section className={classes.page} >\r\n            <div className={classes.auth}>\r\n                <h1>Post Job</h1>\r\n                <Form onSubmit={JobPost}>\r\n                    <Form.Group className={classes.control} >\r\n                        <Form.Label>Company Name</Form.Label>\r\n                        <Form.Control\r\n                            value={title}\r\n                            type='text'\r\n                            onChange={(e) => setTitle(e.target.value)}\r\n                            required />\r\n                    </Form.Group>\r\n                    <Form.Group className={classes.control}>\r\n                        <Form.Label>Location</Form.Label>\r\n                        <Form.Control\r\n                            value={location}\r\n                            type='text'\r\n                            onChange={(e) => setLocation(e.target.value)}\r\n                            required />\r\n                    </Form.Group>\r\n                    <Form.Group className={classes.control}>\r\n                        <Form.Label>Salary</Form.Label>\r\n                        <Form.Control\r\n                            value={salary}\r\n                            type='text'\r\n                            onChange={(e) => setSalary(e.target.value)}\r\n                            required />\r\n                    </Form.Group>\r\n                    <Form.Group className={classes.control}>\r\n                        <Form.Label>Job Type</Form.Label>\r\n                        <Form.Control\r\n                            value={type}\r\n                            type='text'\r\n                            onChange={(e) => setType(e.target.value)}\r\n                            required />\r\n                    </Form.Group>\r\n                    <Form.Group className={classes.control}>\r\n                        <Form.Label>Qualifications</Form.Label>\r\n                        <Form.Control\r\n                            value={qualifications}\r\n                            as=\"textarea\"\r\n                            onChange={(e) => setQualifications(e.target.value)}\r\n                            required />\r\n                    </Form.Group>\r\n                    <Form.Group className={classes.control}>\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control\r\n                            value={description}\r\n                            as=\"textarea\"\r\n                            onChange={(e) => setDescription(e.target.value)}\r\n                            required />\r\n                    </Form.Group>\r\n                    <div className={classes.actions}>\r\n                        <button>Submit</button>\r\n                    </div>\r\n                </Form>\r\n            </div>\r\n        </section >\r\n    )\r\n}\r\n\r\n\r\nexport default NewJob"]},"metadata":{},"sourceType":"module"}